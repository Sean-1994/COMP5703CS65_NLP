{"version":3,"sources":["webpack:///./src/views/logs/logs.vue?7c90","webpack:///./src/views/logs/logs.vue?1d8c","webpack:///src/views/logs/logs.vue","webpack:///./src/views/logs/logs.vue?1f27","webpack:///./src/views/logs/logs.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","$lang","logs","tree","name","_v","_s","buttons","to_results","defaultProps","on","onNodeClick","content","editorOptions","model","value","callback","$$v","code","expression","staticRenderFns","data","clientData","loading","children","label","activeFile","activeNode","modeMap","py","js","html","vue","md","scss","css","php","tabSize","mode","theme","lineNumbers","styleActiveLine","line","keyMap","extraKeys","Tab","foldGutter","gutters","styleSelectedText","highlightSelectionMatches","showToken","annotateScrollbar","components","PanelTitle","codemirror","created","getProjectTree","methods","$http","get","then","catch","onChangeCode","join","path","extension","post","component"],"mappings":"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","file":"static/js/chunk-5d4e4289.a29a3af7.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./logs.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"panel\",attrs:{\"id\":\"tree\"}},[_c('panel-title',{attrs:{\"title\":_vm.$lang.logs.tree}},[_c('router-link',{attrs:{\"to\":{ name: 'results' },\"tag\":\"span\"}},[_c('el-button',{attrs:{\"size\":\"medium\"}},[_c('i',{staticClass:\"fa fa-reply\"}),_vm._v(\"\\n            \"+_vm._s(_vm.$lang.buttons.to_results)+\"\\n          \")])],1)],1),_c('div',{staticClass:\"panel-body\"},[_c('el-tree',{attrs:{\"data\":_vm.tree,\"props\":_vm.defaultProps},on:{\"node-click\":_vm.onNodeClick}})],1)],1)]),_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"panel m-l-md\"},[_c('panel-title',{attrs:{\"title\":_vm.$lang.logs.content}}),_c('div',{staticClass:\"panel-body\"},[_c('codemirror',{attrs:{\"options\":_vm.editorOptions},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-row>\r\n    <el-col :span=\"4\">\r\n      <div class=\"panel\" id=\"tree\">\r\n        <panel-title :title=\"$lang.logs.tree\">\r\n          <router-link :to=\"{ name: 'results' }\" tag=\"span\">\r\n            <el-button size=\"medium\">\r\n              <i class=\"fa fa-reply\"></i>\r\n              {{ $lang.buttons.to_results }}\r\n            </el-button>\r\n          </router-link>\r\n        </panel-title>\r\n        <div class=\"panel-body\">\r\n          <el-tree\r\n              :data=\"tree\"\r\n              :props=\"defaultProps\"\r\n              @node-click=\"onNodeClick\"\r\n          ></el-tree>\r\n        </div>\r\n      </div>\r\n    </el-col>\r\n    <el-col :span=\"20\">\r\n      <div class=\"panel m-l-md\">\r\n        <panel-title :title=\"$lang.logs.content\">\r\n        </panel-title>\r\n        <div class=\"panel-body\">\r\n          <codemirror\r\n              v-model=\"code\"\r\n              :options=\"editorOptions\"\r\n          >\r\n          </codemirror>\r\n        </div>\r\n      </div>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n\r\n<script>\r\nimport PanelTitle from \"../../components/PanelTitle\";\r\nimport {codemirror} from \"vue-codemirror\";\r\n\r\n// Theme\r\nimport \"codemirror/theme/monokai.css\";\r\n\r\n// Base Style\r\nimport \"codemirror/lib/codemirror.css\";\r\n\r\n// Extra Keys\r\nimport \"codemirror/addon/hint/show-hint\";\r\nimport \"codemirror/addon/hint/javascript-hint\";\r\nimport \"codemirror/addon/hint/sql-hint\";\r\nimport \"codemirror/addon/hint/html-hint\";\r\nimport \"codemirror/addon/hint/xml-hint\";\r\nimport \"codemirror/addon/hint/anyword-hint\";\r\nimport \"codemirror/addon/hint/css-hint\";\r\nimport \"codemirror/addon/hint/show-hint\";\r\n\r\n// Key Map\r\nimport \"codemirror/keymap/sublime\";\r\n\r\n// CloseBrackets\r\nimport \"codemirror/addon/edit/closebrackets\";\r\n\r\n// Active Line\r\nimport \"codemirror/addon/selection/active-line\";\r\n\r\n// StyleSelectedText\r\nimport \"codemirror/addon/selection/mark-selection\";\r\nimport \"codemirror/addon/search/searchcursor\";\r\n\r\n// Hint\r\nimport \"codemirror/addon/hint/show-hint\";\r\nimport \"codemirror/addon/hint/show-hint.css\";\r\nimport \"codemirror/addon/hint/anyword-hint\";\r\n\r\n// foldGutter\r\nimport \"codemirror/addon/fold/foldgutter.css\";\r\nimport \"codemirror/addon/fold/brace-fold\";\r\nimport \"codemirror/addon/fold/comment-fold\";\r\nimport \"codemirror/addon/fold/foldcode\";\r\nimport \"codemirror/addon/fold/foldgutter\";\r\nimport \"codemirror/addon/fold/indent-fold\";\r\nimport \"codemirror/addon/fold/markdown-fold\";\r\nimport \"codemirror/addon/fold/xml-fold\";\r\n\r\n// Mode\r\nimport \"codemirror/mode/css/css\";\r\nimport \"codemirror/mode/dockerfile/dockerfile\";\r\nimport \"codemirror/mode/htmlmixed/htmlmixed\";\r\nimport \"codemirror/mode/markdown/markdown\";\r\nimport \"codemirror/mode/php/php\";\r\nimport \"codemirror/mode/python/python\";\r\nimport \"codemirror/mode/sass/sass\";\r\nimport \"codemirror/mode/javascript/javascript\";\r\nimport \"codemirror/mode/sql/sql\";\r\nimport \"codemirror/mode/vue/vue\";\r\n\r\nexport default {\r\n  name: \"logs_read\",\r\n  data() {\r\n    return {\r\n      clientData: null,\r\n      loading: true,\r\n      tree: [],\r\n      defaultProps: {\r\n        children: \"children\",\r\n        label: \"label\",\r\n      },\r\n      activeFile: null,\r\n      activeNode: null,\r\n      code: \"Please Choose File from Left to Edit.\",\r\n      modeMap: {\r\n        py: \"text/x-python\",\r\n        js: \"text/javascript\",\r\n        html: \"text/html\",\r\n        vue: \"text/x-vue\",\r\n        md: \"text/x-markdown\",\r\n        scss: \"text/x-sass\",\r\n        css: \"text/x-css\",\r\n        php: \"application/x-httpd-php\",\r\n      },\r\n      editorOptions: {\r\n        tabSize: 4,\r\n        mode: \"text/javascript\",\r\n        theme: \"monokai\",\r\n        lineNumbers: true,\r\n        styleActiveLine: true,\r\n        line: true,\r\n        keyMap: \"sublime\",\r\n        extraKeys: {\r\n          Tab: \"autocomplete\",\r\n        },\r\n        foldGutter: true,\r\n        gutters: [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"],\r\n        styleSelectedText: true,\r\n        highlightSelectionMatches: {\r\n          showToken: /\\w/,\r\n          annotateScrollbar: true,\r\n        },\r\n      },\r\n    };\r\n  },\r\n  components: {\r\n    PanelTitle,\r\n    codemirror,\r\n  },\r\n  created() {\r\n    this.getProjectTree();\r\n  },\r\n  methods: {\r\n    getProjectTree() {\r\n      // 获取目录树\r\n      this.$http\r\n          .get(\r\n              this.formatString(this.$store.state.url.logs.logs_tree, {})\r\n          )\r\n          .then(({data: tree}) => {\r\n            this.tree = tree;\r\n            if (this.tree.length > 0) {\r\n              let lastNode = this.tree[this.tree.length - 1];\r\n              this.onNodeClick(lastNode);\r\n            }\r\n          })\r\n          .catch(() => {\r\n            this.$message.error(this.$store.getters.$lang.messages.errorLoad);\r\n          });\r\n    },\r\n    onNodeClick(data) {\r\n      this.activeNode = data;\r\n      this.onChangeCode(data);\r\n      this.activeFile = this.join(this.activeNode.path, this.activeNode.label);\r\n    },\r\n    // 呈现代码\r\n    onChangeCode(data) {\r\n      // 获取后缀\r\n      let group = this.activeNode.label.split(\".\");\r\n      let extension = group[group.length - 1];\r\n      // 设置Mode\r\n      this.editorOptions.mode = this.modeMap[extension];\r\n      // 加载文件\r\n      if (!data.children) {\r\n        this.$http\r\n            .post(this.$store.state.url.project.fileRead, data)\r\n            .then(({data: code}) => {\r\n              this.code = code;\r\n            })\r\n            .catch(() => {\r\n              this.$message.error(this.$store.getters.$lang.messages.errorLoad);\r\n            });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.CodeMirror {\r\n  font-size: 16px;\r\n  height: 76vh;\r\n  z-index: 0;\r\n}\r\n\r\n#tree {\r\n  .panel-body {\r\n    overflow: hidden;\r\n  }\r\n\r\n  .el-tree {\r\n    overflow-x: scroll;\r\n    height: 76vh;\r\n    border: none;\r\n\r\n    div[role=\"treeitem\"] {\r\n      .el-tree-node__content {\r\n        height: 35px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.el-tree-node.is-current {\r\n  background: #eee;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./logs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./logs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./logs.vue?vue&type=template&id=10915adf&\"\nimport script from \"./logs.vue?vue&type=script&lang=js&\"\nexport * from \"./logs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./logs.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}